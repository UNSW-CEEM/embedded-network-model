<head>
    <title>EN Network Model</title>
</head>

<body>
    <h1>Embedded Network Model</h1>

    <div class="page-content">
        <div class="sidebar prettybox">
            {{> sidebar}}


        </div>

        <div class="input-output">
            {{> participants}} {{> graph}}
        </div>
    </div>

</body>

<template name="sidebar">

  <!-- <form class='add_participant'> -->
    <div class="add-participant-form">

      <div class="participant-form-item">
        
        <select name="particpant-id-selector" id="particpant-id-selector" class="form-control" value="participantNames.[0]">
          {{#each name in participantNames}}
          <option value="{{name}}">ID: {{name}}</option>
          {{/each}}
        </select>
      </div>
      <div class="participant-form-item">
        Participant name <input type='text' name='participant_name' id='participant_name' placeholder='Fred' value="Fred">
      </div>
      <div class="participant-form-item">
       Solar capacity (kW) <input type='text' name='solar_capacity' id='solar_capacity' placeholder='4' value="4">
      </div>
      <div class="participant-form-item">
       Battery export limit (kW) <input type='text' name='battery_export_limit' id='battery_export_limit' placeholder='4' value="4">
      </div>
      <div class="participant-form-item">
        Battery capacity (kWh) <input type='text' name='battery_capacity' id='battery_capacity' placeholder='4' value="4">
      </div>
      <div class="participant-form-item">
       Enova customer? (Y/N) <input type='test' name='enova_customer_flag' id='enova_customer_flag' placeholder="Y" value="Y">
      </div>
      <div class="participant-form-item">
        <select name="retail-tariff-selector"  id="retail-tariff-selector" class="form-control" value="{{retail_tariffs.[0]}}">
        {{#each tariff in retail_tariffs}}
          <option value="{{tariff}}">{{tariff}}</option>
        {{/each}}
        </select>

       <!-- Retail tariff <input type='test' name='retail_tariff' id='retail_tariff' placeholder="Enova flat commercial" value="Enova flat commercial"> -->
      </div>
      <div class="participant-form-item">
          <select name="network-tariff-selector" id="network-tariff-selector" class="form-control" value="{{network_tariffs.[0]}}">
          {{#each tariff in network_tariffs}}
            <option value="{{tariff}}">{{tariff}}</option>
          {{/each}}
          </select>
      </div>
        
      <div class="participant-form-item">
       <button type='submit'>Add participant</button>
      </div>

      
    </div>
    {{#if simulationRunning}}
    <div class="btn btn-danger" id="">Simulation Running</div>
    {{else}}
    <div class="btn btn-success" id="run-simulation">Run Simulation</div>
    {{/if}}
  <!-- </form> -->


</template>

<template name="participants">
  
  <div class="participant_table prettybox">
    
    <h2>Participants</h2>
    <table style="width:100%"  class="participant_table_table">
        <tr>
            <th>Participant ID</th>
            <th>Name</th> 
            <th>Solar cap</th>
            <th>Battery limit</th>
            <th>Battery cap</th>
            <th> Enova ? </th>
            <th> Retail tariff</th>
            <th> Network tariff</th>
          </tr>
            {{#each participant in participants}}
            <tr>
              <td>{{participant.participant_id}}</td>
              <td>{{participant.name}}</td>
              <td>{{participant.solar_capacity}}</td>
              <td>{{participant.battery_export_limit}}</td>
              <td>{{participant.battery_capacity}}</td>
              <td>{{participant.enova_customer_flag}}</td>
              <td>{{participant.retail_tariff}}</td>
              <td>{{participant.network_tariff}}</td>
            </tr>
             {{/each}}
    </table>

  </div>
  

</template>


<template name="graph">
    
  <div id="content" class="graph-content prettybox">
    
      <form id="side_panel">
        <h2>Source of Consumed Energy</h2>
        <div class="graph-options">
          <div id="legend"></div>
          <section>
          <div id="renderer_form" class="toggler">
            <input type="radio" name="renderer" id="area" value="area" checked>
            <label for="area">area</label>
            <input type="radio" name="renderer" id="bar" value="bar">
            <label for="bar">bar</label>
            <input type="radio" name="renderer" id="line" value="line">
            <label for="line">line</label>
            <input type="radio" name="renderer" id="scatter" value="scatterplot">
            <label for="scatter">scatter</label>
          </div>
          <div id="offset_form">
            <label for="stack">
              <input type="radio" name="offset" id="stack" value="zero" checked>
              <span>stack</span>
            </label>
            <label for="stream">
              <input type="radio" name="offset" id="stream" value="wiggle">
              <span>stream</span>
            </label>
            <label for="pct">
              <input type="radio" name="offset" id="pct" value="expand">
              <span>pct</span>
            </label>
            <label for="value">
              <input type="radio" name="offset" id="value" value="value">
              <span>value</span>
            </label>
          </div>
          <div id="interpolation_form">
            <label for="cardinal">
              <input type="radio" name="interpolation" id="cardinal" value="cardinal" checked>
              <span>cardinal</span>
            </label>
            <label for="linear">
              <input type="radio" name="interpolation" id="linear" value="linear">
              <span>linear</span>
            </label>
            <label for="step">
              <input type="radio" name="interpolation" id="step" value="step-after">
              <span>step</span>
            </label>
          </div>
          
        </section>
      </div>
        <section>
          <div id="smoother"></div>
        </section>
        <section></section>
      </form>
    
      <div id="chart_container">
        <div id="chart"></div>
        <div id="timeline"></div>
        <div id="preview"></div>
      </div>
    
    </div>
    
</template>